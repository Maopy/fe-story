# 提升

## 4.1 先有鸡还是先有蛋

```javascript
a = 2;
var a;
console.log(a); // 2
```

我们习惯将var a = 2;看作一个声明，而实际上JavaScript引擎并不这么认为。它将 var a 和 a = 2 当作两个单独的声明，第一个是编译阶段的任务，而第二个则是执行阶段的任务。

## 4.2 编译器再度来袭

引擎会在解释 JavaScript 代码之前首先对其进行编译。编译阶段中的一部分工作就是找到所有的声明，并用合适的作用域将它们关联起来。

无论作用域中的声明出现在什么地方，都将在代码本身被执行前首先进行处理。 可以将这个过程形象地想象成所有的声明\(变量和函数\)都会被“移动”到各自作用域的最顶端，这个过程被称为**提升**。

函数声明会被提升，但是函数表达式却不会被提升。

## 4.3 函数优先

函数声明和变量声明都会被提升。但是一个值得注意的细节\(这个细节可以出现在有多个“重复”声明的代码中\)是函数会首先被提升，然后才是变量。

尽管重复的 var 声明会被忽略掉，但出现在后面的函数声明**还是可以**覆盖前面的。

它说明了在同一个作用域中进行重复定义是 非常糟糕的，而且经常会导致各种奇怪的问题。同时，应该尽可能避免在块内部声明函数。



